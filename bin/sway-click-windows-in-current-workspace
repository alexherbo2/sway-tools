#!/bin/sh

# Click all windows in the currently focused workspace.
#
# Usage:
#
# sway-click-windows-in-current-workspace [button] [repeat]
#
# Examples:
#
# bindsym --whole-window Mod4+button1 exec sway-click-windows-in-current-workspace button1
# bindsym --whole-window Mod4+button2 exec sway-click-windows-in-current-workspace button2
# bindsym --whole-window Mod4+button3 exec sway-click-windows-in-current-workspace button3

sway-get-windows-in-current-workspace | jq '.[].id' |

while read window_id
do
  swaymsg "[con_id=${window_id}]" focus
  sway-click "$@"
done
